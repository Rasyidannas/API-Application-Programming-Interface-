# What is a GraphQL?
GraphQL is an open-source query language for APIs that allows for efficient and flexible data retrieval. GraphQL defines the semantics and components of a GraphQL API. GraphQL has 3 types of operations: retrieve data, write/change data, and subscribe to changes in data.

## How to work with GraphQL
* Defining Schema,  
* Defining Queries, e.g. 
* Defining Mutations and Subscriptions (optional)
* Implementing the logic

## What is the Schema
Schema is for query-specific fields from specific objects :
```graphql
type Query {
  books: [Book!]!
}

type Book {
  bookId: Int!
  name: String!
  pages: Int!
}
```
Schema is used to: define the shapes of data, define queries, define mutations, and define subscriptions.
Schema uses a type system to define: field name, field type, and nullability.
Schema uses Schema Definition Language.
Schema has 2 parts: object type `type Book` and field `{ bookId: Int!}`

#### Field in Schema
Schema field has scalar types: Int, Float, String, Boolean, ID. The schema field should declare in the Models folder it is related/connected here [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/tree/master/Models). 
Schema has 2 signs: ! in the field mean field is non-nullable, and sign ? in the Models folder it is related/connected here [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/tree/master/Models).  
  
**Kind of Special Schema Field:**
1. In the field we can define enumeration type (often abbreviated as Enum). An enumeration type is a type that is restricted to a particular set of values. Check in this [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/blob/master/Models/Book.cs).
2. Lists is a collection of items of the same type. It's denoted by square brackets [ ]. It is the same as Array. Check in this [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/blob/master/Models/Book.cs)
  
**Structure Object in Scehma**
1. Interface is it defines a set of required and optional fields that an implementing object must include. Check in this [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/blob/master/Models/IReadingMaterials.cs)
2. Unions are similar like Interface but in contrast to the Interface, object types do not have to have common fields or can provide a way to model data more flexible and extensible way. Check in this [GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo/blob/master/Models/IThings.cs). Example query in Union:
```graphql
{
  things {
    __typename
    ...on Book{
      name
      publishedDate
      reviews {
        rating
      }
    }
    ...on Magazine{
      name
      genre
    }
  }
}
```

## What is the Query
a query is used to retrieve data from the server. It's similar to an SQL SELECT statement or a REST GET request. Example of query:
```graphql
  {
    books {
      name
      pages
    }
  }
   ```
### What is Operation Type?
The operation type is a keyword that defines the kind of operation being performed. There are three operation types: query (for retrieving data), mutation (for modifying data) and subscription (for enable real-time updates).
Example for operation type: 
```graphql
query {
  books {
    name
    pages
  }
}
```
### What is Operation Name?
The operation name is an optional identifier that can be given to a query, mutation, or subscription. Example for operation name: 
```graphql
query GetMyBooks {
  books {
    name
    pages
  }
}
```
### What are Arguments?
Arguments are additional values you can pass to a field or a directive to influence its behavior. Check code in here [GraphQL](https://github.com/Rasyidannas/GraphQL-Demo/blob/master/GraphQL/Query.cs). Example for query with arguments:
```graphql
query GetMyBooks {
  books(nameContains: "H") {
    bookId
    name
    genre
    pages
    author {
      authorId
      name
    }
  }
}
```
### What are Variables?
Variables are used to make your queries more dynamic and reusable. Example for query with variable:
```graphql
query GetMyBooks ($bookName: String) {
  books(nameContains: $bookName) {
    bookId
    name
    genre
    pages
    author {
      authorId
      name
    }
  }
}
```
### What are Aliases?
Aliases allow you to provide an alternative name for a field in your query. This can be useful when you want to fetch the same data twice but with different fields. Example for query with aliases: 
```graphql
query GetMyBooks {
  booksWithH: books(nameContains: "H") {
    bookId
    name
    genre
  }
  booksWithM: books(nameContains: "M") {
    bookId
    name
    genre
  }
}
```

### .NET file for GraphQL Demo
[GraphQL-Demo](https://github.com/Rasyidannas/GraphQL-Demo)
run with `dotnet run`
visit link `localhost/graphql`
